/* Plugin generated by AMXX-Studio */

#include <amxmodx>
#include <cstrike>
#include <expmod>

#define PLUGIN "ExpMod Shop: Ammunition"
#define VERSION "1.0"
#define AUTHOR "GT Team"

new const maxAmmo[31] = {0,52,0,90,1,32,1,100,90,1,120,100,100,90,90,90,100,120,30,120,200,32,90,120,90,2,35,90,90,0,100};

new iItem;

public plugin_init() {
	new iPluginIndex = register_plugin(PLUGIN, VERSION, AUTHOR)
	
	iItem = exp_shop_register_item("Amunicja", "Dostajesz amunicje do kazdej broni", 15, 0, 1, iPluginIndex)
}

public exp_shop_item_selected_post(id, item) {
	if(item == iItem) {
		new weapons[32];
		new weaponsnum;
		get_user_weapons(id, weapons, weaponsnum);
				
		for(new i=0; i<weaponsnum; i++)
			if(is_user_alive(id) && is_user_connected(id) && !is_user_hltv(id))
				if(maxAmmo[weapons[i]] > 0)
					cs_set_user_bpammo(id, weapons[i], maxAmmo[weapons[i]]);
	}
}
